# SonarQube项目配置
# Project identification
sonar.projectKey=Hisoka6602_ZakYip.Sorting.RuleEngine.Core
sonar.organization=hisoka6602
sonar.projectName=ZakYip.Sorting.RuleEngine.Core
sonar.projectVersion=1.14.1

# Source code location
sonar.sources=.
sonar.sourceEncoding=UTF-8

# Exclusions
sonar.exclusions=**/bin/**,**/obj/**,**/Migrations/**,**/*.Designer.cs,**/TestResults/**,**/wwwroot/**,**/node_modules/**
sonar.coverage.exclusions=**/Tests/**,**/TestConsole/**,**/Benchmarks/**,**/LoadTests/**,**/Migrations/**,**/*.Designer.cs

# Test settings
sonar.tests=Tests/ZakYip.Sorting.RuleEngine.Tests
sonar.test.inclusions=**/*Tests.cs

# Code coverage settings
sonar.cs.opencover.reportsPaths=**/coverage.opencover.xml
sonar.cs.vstest.reportsPaths=**/*.trx

# Language
sonar.language=cs

# Quality gate thresholds (aligned with problem statement - 85% coverage target)
# 代码重复率控制在3%以内
sonar.cpd.exclusions=**/Migrations/**

# Code coverage minimum threshold - 85% as per requirements
sonar.coverage.minimum=85.0

# Documentation coverage threshold - 90% as per requirements  
# Note: SonarQube doesn't directly measure XML doc coverage for C#, 
# but we enable comment analysis to promote documentation
sonar.issue.ignore.multicriteria=e1
sonar.issue.ignore.multicriteria.e1.ruleKey=csharpsquid:S1135
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.cs

# Code quality thresholds
sonar.qualitygate.wait=true

# Duplication threshold
sonar.cpd.minimumTokens=50

# Complexity thresholds
sonar.complexity.file=20
sonar.complexity.method=10

# Analysis parameters
sonar.dotnet.excludeTestProjects=true

# Enable detailed metrics
sonar.scm.provider=git
sonar.scm.disabled=false

# Code smell and bug detection
sonar.issue.enforce.allFiles=true
