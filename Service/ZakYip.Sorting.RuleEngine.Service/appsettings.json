{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.Hosting.Lifetime": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore.Database.Command": "None",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AppSettings": {
    "LiteDb": {
      "ConnectionString": "Filename=./data/config.db;Connection=shared" // LiteDB连接字符串 - 用于存储规则配置
    },
    "MySql": {
      "ConnectionString": "Server=127.0.0.1;Port=3306;Password=f6vQDiiWpXLDUCxR;Database=zakyip_sorting_ruleengine_db;User=root;AllowLoadLocalInfile=true;Pooling=true;MinimumPoolSize=5;MaximumPoolSize=100;ConnectionLifeTime=300;ConnectionIdleTimeout=180;", // MySQL连接字符串 - 用于存储日志数据，包含连接池优化参数
      "Enabled": true, // 是否启用MySQL，false时使用SQLite降级方案
      "ServerVersion": "8.0.33", // MySQL服务器版本（可选），例如 "8.0.33"，不设置则使用默认版本8.0.21
      "CircuitBreaker": {
        "FailureRatio": 0.5, // 失败率阈值（0.0-1.0），达到此值时触发熔断，默认0.5（50%）
        "MinimumThroughput": 10, // 最小吞吐量，采样周期内最小请求数，默认10
        "SamplingDurationSeconds": 30, // 采样周期（秒），默认30秒
        "BreakDurationSeconds": 1200 // 熔断持续时间（秒），默认1200秒（20分钟）
      }
    },
    "Sqlite": {
      "ConnectionString": "Data Source=./data/logs.db" // SQLite连接字符串 - MySQL降级方案，用于存储日志数据
    },
    "Sharding": {
      "Enabled": true, // 是否启用数据分片，默认true
      "Strategy": "Monthly", // 分片策略：Daily（日度）、Weekly（周度）、Monthly（月度）
      "RetentionDays": 90, // 数据保留天数，默认90天
      "ColdDataThresholdDays": 30, // 冷数据阈值天数，超过此天数的数据可归档，默认30天
      "IdleMinutesBeforeCleanup": 30, // 空闲多少分钟后开始清理，默认30分钟
      "IdleCheckIntervalSeconds": 60, // 空闲检查间隔（秒），默认60秒
      "CleanupSchedule": "0 0 2 * * ?", // 清理任务Cron表达式，默认每天凌晨2点执行
      "ArchiveSchedule": "0 0 3 * * ?" // 归档任务Cron表达式，默认每天凌晨3点执行
    },
    "WcsApi": {
      "BaseUrl": "https://api.example.com", // WCS API基础URL
      "TimeoutSeconds": 30, // API请求超时时间（秒），默认30秒
      "ApiKey": "" // API密钥（可选）
    },
    "ActiveApiAdapter": "ThirdPartyApiClient", // 激活的API适配器: ThirdPartyApiClient, WdtWmsApiClient, JushuitanErpApiClient, PostProcessingCenterApiClient, PostCollectionApiClient
    "WdtWmsApi": {
      "BaseUrl": "https://api.wdt.com", // 旺店通WMS API基础URL
      "AppKey": "", // 旺店通应用密钥
      "AppSecret": "", // 旺店通应用密钥
      "TimeoutSeconds": 30, // API请求超时时间（秒），默认30秒
      "Enabled": false // 是否启用旺店通WMS API，默认false
    },
    "JushuitanErpApi": {
      "BaseUrl": "https://api.jushuitan.com", // 聚水潭ERP API基础URL
      "PartnerKey": "", // 聚水潭合作伙伴密钥
      "PartnerSecret": "", // 聚水潭合作伙伴密钥
      "Token": "", // 聚水潭访问令牌
      "TimeoutSeconds": 30, // API请求超时时间（秒），默认30秒
      "Enabled": false // 是否启用聚水潭ERP API，默认false
    },
    "PostProcessingCenterApi": {
      "BaseUrl": "http://10.4.188.85/pcs-tc-nc-job/WyService/services/CommWY", // 邮政处理中心API基础URL (SOAP端点，不含?wsdl)
      "TimeoutSeconds": 30, // API请求超时时间（秒），默认30秒
      "Enabled": false // 是否启用邮政处理中心API，默认false
    },
    "PostCollectionApi": {
      "BaseUrl": "http://10.4.201.115/pcs-ci-job/WyService/services/CommWY", // 邮政分揽投机构API基础URL (SOAP端点，不含?wsdl)
      "TimeoutSeconds": 30, // API请求超时时间（秒），默认30秒
      "Enabled": false // 是否启用邮政分揽投机构API，默认false
    },
    "MiniApi": {
      "Urls": [ "http://localhost:5009" ], // API服务监听地址和端口
      "EnableSwagger": true // 是否启用Swagger文档，生产环境建议设为false
    },
    "Cache": {
      "AbsoluteExpirationSeconds": 3600, // 缓存绝对过期时间（秒），默认3600秒（1小时）
      "SlidingExpirationSeconds": 600 // 缓存滑动过期时间（秒），默认600秒（10分钟）
    },
    "LogFileCleanup": {
      "Enabled": true, // 是否启用日志文件清理功能，默认true
      "RetentionDays": 7, // 日志文件保留天数，默认7天
      "LogDirectory": "./logs" // 日志文件目录，默认"./logs"
    }
  }
}